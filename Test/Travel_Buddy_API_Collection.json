{
  "info": {
    "_postman_id": "travel-buddy-api-collection",
    "name": "Travel Buddy API Collection",
    "description": "Complete API collection for Travel Buddy Backend - Travel Planning & Collaboration Platform\n\nBase URL: {{baseUrl}}\n\nAll endpoints except /auth/* require authentication. Cookies (httpOnly) are used for token storage.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123!\",\n  \"fullName\": \"John Doe\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "register"]
            },
            "description": "Register a new user. Password must be at least 8 characters, contain 1 uppercase, 1 special character, and 1 number."
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "login"]
            },
            "description": "Login user. Returns accessToken and refreshToken in cookies (httpOnly)."
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/refresh-token",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "refresh-token"]
            },
            "description": "Refresh access token using refreshToken cookie. The refreshToken should be present in cookies (set automatically after login). Make sure to enable cookie handling in Postman settings."
          }
        },
        {
          "name": "Get Me",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "me"]
            },
            "description": "Get current authenticated user profile. Requires authentication. Access token should be present in cookies."
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Get My Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me"]
            },
            "description": "Get current authenticated user's profile information. Requires authentication (accessToken in cookies)."
          }
        },
        {
          "name": "Update My Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"New Name\",\n  \"bio\": \"A short bio about yourself.\",\n  \"location\": \"Dhaka, Bangladesh\",\n  \"interests\": [\"Travel\", \"Hiking\"],\n  \"visitedCountries\": [\"BD\", \"IN\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me"]
            },
            "description": "Update profile information. All fields are optional. Requires authentication."
          }
        },
        {
          "name": "Update My Profile Photo",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "photo",
                  "type": "file",
                  "src": ""
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me/photo",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me", "photo"]
            },
            "description": "Update profile photo (attach a file to the 'photo' field in form-data body). Requires authentication."
          }
        },
        {
          "name": "Get My Travel Plans",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me/travel-plans",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me", "travel-plans"]
            },
            "description": "Get all travel plans created by the authenticated user. Accepts optional pagination and filtering via query params. Requires authentication."
          }
        },
        {
          "name": "Get My Reviews",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me/reviews",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me", "reviews"]
            },
            "description": "Get all reviews written by or received by the authenticated user. Accepts pagination and filtering via query params. Requires authentication."
          }
        },
        {
          "name": "Admin - Get All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/admin",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "admin"]
            },
            "description": "Get all users (admin only). Accepts pagination and filtering via query params. Requires ADMIN role."
          }
        },
        {
          "name": "Admin - Update User Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"SUSPENDED\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/admin/{{userId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "admin", "{{userId}}", "status"]
            },
            "description": "Update status (ACTIVE, SUSPENDED, DELETED) of a user. ADMIN only."
          }
        },
        {
          "name": "Admin - Verify User",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isVerified\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/admin/{{userId}}/verify",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "admin", "{{userId}}", "verify"]
            },
            "description": "Set verification status of a user (isVerified true/false). ADMIN only."
          }
        },
        {
          "name": "Admin - Update User Role",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"ADMIN\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/admin/{{userId}}/role",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "admin", "{{userId}}", "role"]
            },
            "description": "Update role of a user (USER or ADMIN). ADMIN only."
          }
        },
        {
          "name": "Admin - Delete User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/admin/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "admin", "{{userId}}"]
            },
            "description": "Soft delete a user (admin only)."
          }
        }
      ]
    },
    {
      "name": "Travel Plans",
      "item": [
        {
          "name": "Create Travel Plan",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Spring Trip to Cox's Bazar\",\n  \"destination\": \"Cox's Bazar, Bangladesh\",\n  \"origin\": \"Dhaka, Bangladesh\",\n  \"startDate\": \"2025-09-15\",\n  \"endDate\": \"2025-09-21\",\n  \"travelType\": \"FRIENDS\", \n  \"budgetMin\": 5000,\n  \"budgetMax\": 12000,\n  \"visibility\": \"PUBLIC\",\n  \"description\": \"An awesome week-long trip!\",\n  \"coverPhoto\": \"https://my-cloudinary-url/trip-photo.jpg\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/travel-plans",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "travel-plans"]
            },
            "description": "Create a new travel plan. All fields are required except coverPhoto. startDate must be a future date - past dates are not allowed. endDate must be >= startDate. Requires authentication."
          }
        },
        {
          "name": "Get My Travel Plans",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/travel-plans",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "travel-plans"],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "type",
                  "value": ""
                },
                {
                  "key": "visibility",
                  "value": ""
                },
                {
                  "key": "searchTerm",
                  "value": ""
                },
                {
                  "key": "sortBy",
                  "value": "createdAt"
                },
                {
                  "key": "sortOrder",
                  "value": "desc"
                }
              ]
            },
            "description": "Get all travel plans created by the authenticated user (supports pagination, filtering, search, sort). Requires authentication."
          }
        },
        {
          "name": "Get Single Travel Plan",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/travel-plans/{{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "travel-plans", "{{planId}}"]
            },
            "description": "Get details for a single travel plan (owned or public). Requires authentication for private plans. Replace {{planId}} with actual id."
          }
        },
        {
          "name": "Update Travel Plan",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Plan Title\",\n  \"destination\": \"Bandarban, Bangladesh\",\n  \"origin\": \"Dhaka\",\n  \"startDate\": \"2025-09-20\",\n  \"endDate\": \"2025-09-26\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/travel-plans/{{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "travel-plans", "{{planId}}"]
            },
            "description": "Update a travel plan. Only allowed for the plan owner or admins. All fields optional, only send what you want to update. If updating startDate, it must be a future date - past dates are not allowed. This allows converting past plans to future plans. endDate must be >= startDate."
          }
        },
        {
          "name": "Delete Travel Plan",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/travel-plans/{{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "travel-plans", "{{planId}}"]
            },
            "description": "Delete a travel plan. Only owners or admins can delete. Replace {{planId}} with the actual id."
          }
        }
      ]
    },
    {
      "name": "Trip Members",
      "item": [
        {
          "name": "Add Member to Plan",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"member@example.com\",\n  \"role\": \"MEMBER\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/trip-members/{{planId}}/add",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "trip-members", "{{planId}}", "add"]
            },
            "description": "Invite a user to join the trip as a member. Requires authentication and plan management permission. Role: MEMBER (default) or ADMIN."
          }
        },
        {
          "name": "Get Members of a Plan",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/trip-members/{{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "trip-members", "{{planId}}"]
            },
            "description": "Get all members of a specific travel plan. Requires authentication. Replace {{planId}} with actual travel plan ID."
          }
        },
        {
          "name": "Update Member Role",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"role\": \"ADMIN\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/trip-members/{{planId}}/update-role",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "trip-members", "{{planId}}", "update-role"]
            },
            "description": "Update a member's role in a trip (e.g. from VIEWER to ADMIN). Requires manager/admin rights on the travel plan. userId is the user's UUID."
          }
        },
        {
          "name": "Remove Member from Plan",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/trip-members/{{memberId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "trip-members", "{{memberId}}"]
            },
            "description": "Remove user from trip by tripMemberId (not userId). Managers/admins only."
          }
        }
      ]
    },
    {
      "name": "Itinerary",
      "item": [
        {
          "name": "Create Itinerary Item",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"planId\": \"{{planId}}\",\n  \"day\": 1,\n  \"title\": \"Visit Buddhist Temple\",\n  \"description\": \"Morning sightseeing at temple\",\n  \"startTime\": \"09:00\",\n  \"endTime\": \"11:00\",\n  \"location\": \"Buddha Dhatu Jadi\",\n  \"order\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/itinerary",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "itinerary"]
            },
            "description": "Create an itinerary item (activity) for a travel plan. Requires plan member/admin. 'order' determines sequencing."
          }
        },
        {
          "name": "Get Itinerary Items By Plan",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/itinerary?planId={{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "itinerary"],
              "query": [
                {
                  "key": "planId",
                  "value": "{{planId}}"
                }
              ]
            },
            "description": "Get all itinerary items for a specific plan. Use query param planId. Requires member."
          }
        },
        {
          "name": "Get Single Itinerary Item",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/itinerary/{{itemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "itinerary", "{{itemId}}"]
            },
            "description": "Get a specific itinerary item by ID. Requires plan membership."
          }
        },
        {
          "name": "Update Itinerary Item",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Cox's Bazar Beach Relaxation\",\n  \"description\": \"Afternoon fun\",\n  \"startTime\": \"14:00\",\n  \"endTime\": \"18:00\",\n  \"location\": \"Main Beach\",\n  \"order\": 2\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/itinerary/{{itemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "itinerary", "{{itemId}}"]
            },
            "description": "Update fields for an existing itinerary item. Only send fields you want to update."
          }
        },
        {
          "name": "Delete Itinerary Item",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/itinerary/{{itemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "itinerary", "{{itemId}}"]
            },
            "description": "Delete an itinerary item by ID. Members/admins only."
          }
        },
        {
          "name": "Bulk Upsert Itinerary",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"day\": 1,\n    \"items\": [\n      {\n        \"title\": \"Check-in at Hotel\",\n        \"description\": \"Arrival and room allocation.\",\n        \"startTime\": \"12:00\",\n        \"endTime\": \"13:00\",\n        \"location\": \"Green Valley Hotel\"\n      }\n    ]\n  },\n  {\n    \"day\": 2,\n    \"items\": []\n  }\n]\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/itinerary/bulk-upsert",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "itinerary", "bulk-upsert"]
            },
            "description": "Bulk create or update multiple itinerary days/items. Useful for large edits or import/export."
          }
        },
        {
          "name": "Reorder Itinerary Items",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"planId\": \"{{planId}}\",\n  \"itemOrders\": [\n    { \"itemId\": \"item1\", \"order\": 2 },\n    { \"itemId\": \"item2\", \"order\": 1 }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/itinerary/reorder",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "itinerary", "reorder"]
            },
            "description": "Reorder itinerary items for a plan. Provide planId and new order list."
          }
        }
      ]
    },
    {
      "name": "Planner (AI)",
      "item": [
        {
          "name": "Create Planning Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"planId\": \"{{planId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/planner/",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "planner"]
            },
            "description": "Create a new AI planning session. Returns session object with id, initial question, and remaining AI uses. Optional: link to existing plan via planId. Requires authentication."
          }
        },
        {
          "name": "Add Step to Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"question\": \"What is your travel destination?\",\n  \"answer\": \"Cox's Bazar\",\n  \"uiStep\": \"destination\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/planner/{{sessionId}}/step",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "planner", "{{sessionId}}", "step"]
            },
            "description": "Add a step (Q&A) to the planning session. Returns next question and UI step. uiStep must be one of: destination, groupSize, budget, tripDuration, interests, specialRequirements, Final. Requires authentication."
          }
        },
        {
          "name": "Complete Planning Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"finalOutput\": {\n    \"title\": \"Spring Trip to Cox's Bazar\",\n    \"destination\": \"Cox's Bazar, Bangladesh\",\n    \"origin\": \"Dhaka, Bangladesh\",\n    \"startDate\": \"2025-09-15\",\n    \"endDate\": \"2025-09-21\",\n    \"budgetMin\": 5000,\n    \"budgetMax\": 12000,\n    \"travelType\": \"FRIENDS\",\n    \"description\": \"An awesome week-long trip to the longest beach in the world!\",\n    \"itinerary\": [\n      {\n        \"dayIndex\": 1,\n        \"items\": [\n          {\n            \"title\": \"Arrival and Check-in\",\n            \"description\": \"Check-in at hotel and rest after travel\",\n            \"startAt\": \"2025-09-15T12:00:00.000Z\",\n            \"endAt\": \"2025-09-15T14:00:00.000Z\",\n            \"location\": \"Hotel Sea Crown\"\n          },\n          {\n            \"title\": \"Beach Walk\",\n            \"description\": \"Evening walk along the beach\",\n            \"startAt\": \"2025-09-15T17:00:00.000Z\",\n            \"endAt\": \"2025-09-15T19:00:00.000Z\"\n          }\n        ]\n      },\n      {\n        \"dayIndex\": 2,\n        \"items\": [\n          {\n            \"title\": \"Inani Beach Visit\",\n            \"description\": \"Visit the coral beach\",\n            \"startAt\": \"2025-09-16T09:00:00.000Z\",\n            \"endAt\": \"2025-09-16T18:00:00.000Z\"\n          }\n        ]\n      }\n    ]\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/planner/{{sessionId}}/complete",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "planner", "{{sessionId}}", "complete"]
            },
            "description": "Complete the planning session and create TravelPlan + ItineraryItems. sessionId must be in URL path. finalOutput must include title, destination, startDate, endDate, travelType, and itinerary array. travelType: SOLO, COUPLE, FAMILY, FRIENDS, GROUP. Requires authentication."
          }
        },
        {
          "name": "Get Planning Session",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/planner/{{sessionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "planner", "{{sessionId}}"]
            },
            "description": "Get single planning session by ID. Returns session with promptFlow (Q&A history), finalOutput, and uiState. Requires authentication."
          }
        },
        {
          "name": "Get My Planning Sessions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/planner/?page=1&limit=10&sortBy=createdAt&sortOrder=desc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "planner"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (default: 1)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page (default: 10)"
                },
                {
                  "key": "sortBy",
                  "value": "createdAt",
                  "description": "Sort field (default: createdAt)"
                },
                {
                  "key": "sortOrder",
                  "value": "desc",
                  "description": "Sort order: asc or desc (default: desc)"
                }
              ]
            },
            "description": "Get all planning sessions for authenticated user with pagination. Query params: page, limit, sortBy, sortOrder. Returns sessions list with meta (pagination info). Requires authentication."
          }
        }
      ]
    },
    {
      "name": "Chat",
      "item": [
        {
          "name": "Create New Chat Thread",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"PLAN\",\n  \"refId\": \"{{planId}}\",\n  \"title\": \"Trip Planning Chat\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/chat/threads",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "chat", "threads"]
            },
            "description": "Create a new chat thread for a plan. type must be \"PLAN\", refId is the planId, title is optional. Members are added separately via Add Member endpoint. Requires authentication."
          }
        },
        {
          "name": "Get Thread By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/chat/threads/{{threadId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "chat", "threads", "{{threadId}}"]
            },
            "description": "Get chat thread details by thread ID. Returns thread with members list. Requires authentication."
          }
        },
        {
          "name": "Get Chat Thread By Plan",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/chat/threads?planId={{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "chat", "threads"],
              "query": [
                {
                  "key": "planId",
                  "value": "{{planId}}",
                  "description": "Plan ID to find thread for"
                }
              ]
            },
            "description": "Find chat thread by plan ID using query parameter. Returns thread details if found, 404 if not found. Requires authentication."
          }
        },
        {
          "name": "Add Member to Thread",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"role\": \"member\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/chat/threads/{{threadId}}/members",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "chat", "threads", "{{threadId}}", "members"]
            },
            "description": "Add a new member to a chat thread. threadId must be in URL path. role must be one of: owner, admin, member. Requires authentication."
          }
        },
        {
          "name": "Get Messages in Thread",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/chat/threads/{{threadId}}/messages?limit=30",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "chat", "threads", "{{threadId}}", "messages"],
              "query": [
                {
                  "key": "cursor",
                  "value": "",
                  "description": "ISO datetime string for cursor pagination (optional, use nextCursor from previous response)",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "30",
                  "description": "Number of messages per page (1-100, default: 30)"
                }
              ]
            },
            "description": "Get messages from a thread using cursor pagination. cursor is optional ISO datetime string (use nextCursor from previous response). limit: 1-100, default 30. Returns items array and nextCursor. Requires authentication."
          }
        },
        {
          "name": "Send Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Hello everyone!\",\n  \"attachments\": [\n    {\n      \"url\": \"https://example.com/image.jpg\",\n      \"type\": \"image/jpeg\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/chat/threads/{{threadId}}/messages",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "chat", "threads", "{{threadId}}", "messages"]
            },
            "description": "Send a message to a chat thread. threadId must be in URL path. content is required (1-5000 chars). attachments is optional array (max 10 items) with url (required) and type (optional). Requires authentication."
          }
        },
        {
          "name": "Edit Message",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Updated message content\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/chat/messages/{{messageId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "chat", "messages", "{{messageId}}"]
            },
            "description": "Edit a message. messageId must be in URL path. content is required (1-5000 chars). Can only edit own messages within 15 minutes of sending. Requires authentication."
          }
        },
        {
          "name": "Delete Message",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/chat/messages/{{messageId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "chat", "messages", "{{messageId}}"]
            },
            "description": "Soft delete a message. messageId must be in URL path. Can only delete own messages. Requires authentication."
          }
        }
      ]
    },
    {
      "name": "Notifications & Meetups",
      "item": [
        {
          "name": "Get All Notifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/notifications?page=1&limit=10&sortBy=createdAt&sortOrder=desc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "notifications"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (optional)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page (optional)"
                },
                {
                  "key": "sortBy",
                  "value": "createdAt",
                  "description": "Sort field (optional)",
                  "disabled": true
                },
                {
                  "key": "sortOrder",
                  "value": "desc",
                  "description": "asc or desc (optional)",
                  "disabled": true
                },
                {
                  "key": "type",
                  "value": "",
                  "description": "NotificationType enum (optional)",
                  "disabled": true
                },
                {
                  "key": "isRead",
                  "value": "",
                  "description": "true or false (optional)",
                  "disabled": true
                },
                {
                  "key": "searchTerm",
                  "value": "",
                  "description": "Search in title/message (optional)",
                  "disabled": true
                }
              ]
            },
            "description": "Get all notifications for authenticated user with pagination and filters. Query params: page, limit, sortBy (default: createdAt), sortOrder (asc/desc), type (NotificationType enum), isRead (true/false), searchTerm (searches title and message). Requires authentication."
          }
        },
        {
          "name": "Mark Notification as Read",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/notifications/{{notificationId}}/read",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "notifications", "{{notificationId}}", "read"]
            },
            "description": "Mark a single notification as read. notificationId must be in URL path. Requires authentication."
          }
        },
        {
          "name": "Mark All Notifications Read",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/notifications/read-all",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "notifications", "read-all"]
            },
            "description": "Mark all notifications as read for authenticated user. No body or params needed. Requires authentication."
          }
        },
        {
          "name": "Get Unread Count",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/notifications/unread-count",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "notifications", "unread-count"]
            },
            "description": "Get count of unread notifications for authenticated user. Returns { count: number }. Requires authentication."
          }
        },
        {
          "name": "Create Meetup",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"planId\": \"{{planId}}\",\n  \"scheduledAt\": \"2025-09-20T16:00:00.000Z\",\n  \"location\": \"Cafe Rio\",\n  \"maxParticipants\": 8\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/meetups",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "meetups"]
            },
            "description": "Create a new meetup for a travel plan. planId and scheduledAt (ISO datetime, must be future) are required. Optional: location (max 500 chars), locationId (UUID), maxParticipants (positive integer), videoRoomLink (valid URL). Note: location and locationId are mutually exclusive - provide only one. Error will be shown if travel plan has ended (endDate < today). Requires authentication."
          }
        },
        {
          "name": "Get All Meetups For a Plan",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/meetups?planId={{planId}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "meetups"],
              "query": [
                {
                  "key": "planId",
                  "value": "{{planId}}"
                },
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (optional)",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page (optional)",
                  "disabled": true
                },
                {
                  "key": "sortBy",
                  "value": "",
                  "description": "Sort field (optional)",
                  "disabled": true
                },
                {
                  "key": "sortOrder",
                  "value": "desc",
                  "description": "asc or desc (optional)",
                  "disabled": true
                },
                {
                  "key": "searchTerm",
                  "value": "",
                  "description": "Search in location (optional)",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "",
                  "description": "PENDING, CONFIRMED, COMPLETED, CANCELLED (optional)",
                  "disabled": true
                },
                {
                  "key": "organizerId",
                  "value": "",
                  "description": "Filter by organizer ID (optional)",
                  "disabled": true
                }
              ]
            },
            "description": "Get all meetups with pagination and filters. Query params: page, limit, sortBy, sortOrder, searchTerm (searches location), status (PENDING/CONFIRMED/COMPLETED/CANCELLED), planId, organizerId. Requires authentication."
          }
        },
        {
          "name": "Get Single Meetup",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/meetups/{{meetupId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "meetups", "{{meetupId}}"]
            },
            "description": "Get single meetup by ID. Returns meetup with plan, organizer, and RSVPs. Requires authentication."
          }
        },
        {
          "name": "Update Meetup",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"scheduledAt\": \"2025-09-21T16:00:00.000Z\",\n  \"location\": \"New Location\",\n  \"maxParticipants\": 10\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/meetups/{{meetupId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "meetups", "{{meetupId}}"]
            },
            "description": "Update meetup details. All fields optional: scheduledAt (must be future date), location (max 500 chars), locationId (UUID), maxParticipants (positive integer), videoRoomLink (valid URL). location and locationId are mutually exclusive. Requires authentication (organizer/admin only)."
          }
        },
        {
          "name": "RSVP To Meetup",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"ACCEPTED\" // or \"DECLINED\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/meetups/{{meetupId}}/rsvp",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "meetups", "{{meetupId}}", "rsvp"]
            },
            "description": "RSVP to a meetup. status must be ACCEPTED or DECLINED. meetupId must be in URL path. Requires authentication."
          }
        },
        {
          "name": "Update Meetup Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"CONFIRMED\" // or \"PENDING\", \"COMPLETED\", \"CANCELLED\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/meetups/{{meetupId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "meetups", "{{meetupId}}", "status"]
            },
            "description": "Update status of a meetup. status must be one of: PENDING, CONFIRMED, COMPLETED, CANCELLED. meetupId must be in URL path. Requires authentication (organizer/admin only)."
          }
        },
        {
          "name": "Remove Meetup",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/meetups/{{meetupId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "meetups", "{{meetupId}}"]
            },
            "description": "Remove a meetup by ID. Admin/host only."
          }
        }
      ]
    },
    {
      "name": "Expenses",
      "item": [
        {
          "name": "Create Expense",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"planId\": \"{{planId}}\",\n  \"title\": \"Lunch\",\n  \"amount\": 1200,\n  \"currency\": \"BDT\",\n  \"category\": \"FOOD\",\n  \"splitType\": \"EQUAL\",\n  \"participants\": [\"userId1\", \"userId2\"],\n  \"date\": \"2025-09-21\",\n  \"description\": \"Lunch at beachside restaurant.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/expenses",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "expenses"]
            },
            "description": "Create a new expense for a plan. Supports splitType (EQUAL, CUSTOM, PERCENTAGE)."
          }
        },
        {
          "name": "Get All Expenses For Plan",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/expenses?planId={{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "expenses"],
              "query": [
                {
                  "key": "planId",
                  "value": "{{planId}}"
                }
              ]
            },
            "description": "Get all expenses for a specific plan (filterable, paginated)."
          }
        },
        {
          "name": "Get Single Expense",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/expenses/{{expenseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "expenses", "{{expenseId}}"]
            },
            "description": "Update fields of an existing expense. Only include fields you want to change."
          }
        },
        {
          "name": "Delete Expense",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/expenses/{{expenseId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "expenses", "{{expenseId}}"]
            },
            "description": "Delete an expense by ID. Only allowed by creator or plan admin."
          }
        },
        {
          "name": "Settle Expense",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"planId\": \"{{planId}}\",\n  \"fromUserId\": \"userId1\",\n  \"toUserId\": \"userId2\",\n  \"amount\": 600\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/expenses/settle",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "expenses", "settle"]
            },
            "description": "Record settlement/payment between members for a plan. Used to keep track of who owes whom."
          }
        },
        {
          "name": "Expenses Summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/expenses/summary?planId={{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "expenses", "summary"],
              "query": [
                {
                  "key": "planId",
                  "value": "{{planId}}"
                }
              ]
            },
            "description": "Get summary/breakdown of all expenses, debts, settlements for a plan."
          }
        }
      ]
    },
    {
      "name": "Subscriptions, Payments, Media, Reviews",
      "item": [
        {
          "name": "Get Current Subscription Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/subscriptions/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "subscriptions", "status"]
            },
            "description": "Get user's active subscription status. Returns plan, validity, status, etc."
          }
        },
        {
          "name": "Create Subscription",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"planType\": \"MONTHLY\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/subscriptions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "subscriptions"]
            },
            "description": "Create a new paid subscription (planType: MONTHLY or YEARLY). Payment handled via Stripe. Returns Stripe session."
          }
        },
        {
          "name": "Cancel Subscription",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/subscriptions/{{subscriptionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "subscriptions", "{{subscriptionId}}"]
            },
            "description": "Cancel (end) active subscription."
          }
        },
        {
          "name": "Subscription History (Admin)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/subscriptions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "subscriptions"]
            },
            "description": "Get all subscriptions in the system (admin only; query params supported)."
          }
        },
        {
          "name": "Get All Payments (Admin)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "payments"]
            },
            "description": "Get all payment transactions (admin only). Filterable by user/plans."
          }
        },
        {
          "name": "Get My Payments",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/payments/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "payments", "me"]
            },
            "description": "Get authenticated user's payment history."
          }
        },
        {
          "name": "Upload Media File",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "planId",
                  "type": "text",
                  "value": "{{planId}}"
                },
                {
                  "key": "file",
                  "type": "file",
                  "src": ""
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/media/upload",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "media", "upload"]
            },
            "description": "Upload a media file (Cloudinary integration). Attach planId and file."
          }
        },
        {
          "name": "List Media Files For Plan",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/media?planId={{planId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "media"],
              "query": [
                {
                  "key": "planId",
                  "value": "{{planId}}"
                }
              ]
            },
            "description": "List all media files for a plan."
          }
        },
        {
          "name": "Delete Media File",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/media/{{mediaId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "media", "{{mediaId}}"]
            },
            "description": "Delete a media file by ID (creator/admin only)."
          }
        },
        {
          "name": "Create Review",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetType\": \"USER\",\n  \"targetId\": \"{{userId}}\",\n  \"rating\": 5,\n  \"comment\": \"Great travel companion!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/reviews",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "reviews"]
            },
            "description": "Create a review. targetType: USER or PLAN."
          }
        },
        {
          "name": "List Reviews (By User or Plan)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/reviews?targetType=USER&targetId={{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "reviews"],
              "query": [
                {
                  "key": "targetType",
                  "value": "USER"
                },
                {
                  "key": "targetId",
                  "value": "{{userId}}"
                }
              ]
            },
            "description": "List all reviews for a user or plan. Use targetType=USER or PLAN, and targetId."
          }
        },
        {
          "name": "Update Review",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rating\": 4,\n  \"comment\": \"Good, but could improve communication.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/reviews/{{reviewId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "reviews", "{{reviewId}}"]
            },
            "description": "Update a review (written by you)."
          }
        },
        {
          "name": "Delete Review",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/reviews/{{reviewId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "reviews", "{{reviewId}}"]
            },
            "description": "Delete (remove) a review by ID (written by you or admin)."
          }
        }
      ]
    }
  ]
}
